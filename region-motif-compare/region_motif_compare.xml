<tool id="region_motif_compare" name="Region Motif Count Compare">
  <description>for comparing the motif counts in different region sets</description>
  <requirements>
    <requirement type="set_environment">RMOTIF_PATH</requirement>
  </requirements>
  <command interpreter="Rscript">
    region_motif_compare.r --args \$RMOTIF_PATH $pwm_file.fields.path $in_tab_1 $in_tab_2 
    $out_enriched 
    $out_depleted 
    $out_plots
  </command>
  <inputs>
    <param name="in_tab_1" type="data" format="tabular" label="Region Set 1 Motif Count File"/>
    <param name="in_tab_2" type="data" format="tabular" label="Region Set 2 Motif Count File"/>

    <param name="pwm_file" type="select" label="Using motif database PWM file">
      <options from_data_table="motif_databases"/>
    </param>
    
    <!-- COMBINED OPTION IS LOST
    <param name="db_type" type="select" label="Select Motif Database" >
      <option value="t">Test Pouya Subset (hg19)</option>
      <option value="p">Pouya Encode Motifs (hg19)</option>
      <option value="j">Jaspar and Jolma Motifs (hg19)</option>
      <option value="m">Mouse Motifs (mm9)</option>
      <option value="c">Pouya, Jaspar, and Jolma Combined (hg19)</option>
    </param> -->

  </inputs>
  <outputs>
    <data name="out_enriched" format="tabular" label="Enriched Motifs"/>
    <data name="out_depleted" format="tabular" label="Depleted Motifs"/>
    <data name="out_plots" format="png" label="Motif Count Comparison Plots"/>
  </outputs>

  <help>
    This tools reads in two counts file and determines enriched and depleted
    motifs in two different region sets based on poisson calculation with
    gc correction.
  </help>
 
</tool>